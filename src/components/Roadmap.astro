---
import { Image } from "astro:assets";
import { roadmap } from "../data/roadmap.ts";
---

<div class="roadmap">
    {
        roadmap.map((stage) => (
            <div class="roadmap-stage">
                <span class="title">{stage.title}</span>
                <div class="items">
                    {stage.items.map((item) => (
                        <div class="roadmap-item">
                            <Image
                                src={item.image}
                                alt={item.alt}
                                width="256"
                                height="128"
                                draggable="false"
                            />
                            <span class="title">{item.title}</span>
                            <span class="description">{item.description}</span>
                        </div>
                    ))}
                </div>
            </div>
        ))
    }
</div>

<style>
    .roadmap {
        display: flex;
        justify-content: center;
        width: fit-content;
        max-width: calc(100% - 10rem);
        margin: 0 auto;
        justify-items: center;
        align-items: center;
        flex-direction: column;
        gap: 2rem;
        position: relative;
    }

    .roadmap-stage {
        position: relative;
        width: 100%;
    }
    .roadmap-stage > .items {
        display: flex;
        margin-top: 1rem;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .roadmap::before {
        content: "";
        position: absolute;
        top: 0;
        right: 100%;
        width: 0.5rem;
        background: white;
        height: calc(100% - 1rem);
        margin: 1rem 3.75rem 0 0;
        border-radius: 0.25rem;
    }

    .roadmap-stage::before {
        content: "";
        position: absolute;
        top: 0.75rem;
        right: 100%;
        width: 1.5rem;
        background: white;
        height: 1.5rem;
        margin: 0 3.25rem;
        border-radius: 100%;
    }

    .roadmap-stage > .title {
        font-weight: bold;
        font-size: 2.5rem;
    }

    .roadmap-item {
        width: 16rem;
        background: rgb(16, 21, 39);
        border-radius: 0.5rem;
        overflow: clip;
    }
    .roadmap-item > img {
        display: block;
        width: 100%;
        height: 8rem;
        object-fit: cover;
        background-color: rgb(37, 45, 80);
    }
    .roadmap-item > .title {
        display: block;
        padding: 1rem 1rem 0.5rem 1rem;
        font-weight: bold;
    }
    .roadmap-item > .description {
        display: block;
        padding: 0 1rem 1rem 1rem;
        font-size: 0.75em;
    }
</style>
